<!DOCTYPE html>

<html lang="en">
    <head>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4" crossorigin="anonymous"></script>
        <link href="css/styles.css" rel="stylesheet">
        <link href="css/projects.css" rel="stylesheet">
        <title>My Webpage</title>
    </head>
    <body>
        <header>
            <nav class="navbar navbar-expand-lg bg-light">
                <div class="container-fluid">
                  <a class="navbar-brand" href="#">L</a>
                  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
                    <div class="navbar-nav">
                      <a class="nav-link" aria-current="page" href="./index.html">Home</a>
                      <a class="nav-link" href="./courses.html">Courses</a>
                      <a class="nav-link active" href="./projects.html">Projects</a>
                      <a class="nav-link" href="./secret">Secret (don't click)</a>
                    </div>
                  </div>
                </div>
              </nav>
            </header>
              <main>
                <div class="projects">
                  <h2 class="title">Some of my github projects</h2>
                  <div class="row">
                    <div class="col-12 col-md-6 col-lg-4">
                      <div class="card" style="width: 18rem;">
                        <div class="card-body">
                          <h5 class="card-title placeholder-glow"><span class="placeholder" style="width: 25%;"></span></h5>
                          <h6 class="card-subtitle mb-2 text-muted placeholder-glow"><span class="placeholder" style="width: 35%;"></span></h6>
                          <p class="card-text placeholder-glow">
                            <span class="placeholder" style="width: 100%;"></span>
                            <span class="placeholder" style="width: 100%;"></span>
                            <span class="placeholder" style="width: 90%;"></span>
                          </p>
                          <div class="links placeholder-glow">
                          <a href="#" class="card-link"><span class="placeholder" style="width: 30%;"></span></a>
                        </div>
                        </div>
                      </div>
                      </div>

                      <div class="col-12 col-md-6 col-lg-4">
                        <div class="card" style="width: 18rem;">
                          <div class="card-body">
                            <h5 class="card-title placeholder-glow"><span class="placeholder" style="width: 25%;"></span></h5>
                            <h6 class="card-subtitle mb-2 text-muted placeholder-glow"><span class="placeholder" style="width: 35%;"></span></h6>
                            <p class="card-text placeholder-glow">
                              <span class="placeholder" style="width: 100%;"></span>
                              <span class="placeholder" style="width: 100%;"></span>
                              <span class="placeholder" style="width: 90%;"></span>
                            </p>
                            <div class="links placeholder-glow">
                            <a href="#" class="card-link"><span class="placeholder" style="width: 30%;"></span></a>
                          </div>
                          </div>
                        </div>
                        </div>
                        <div class="col-12 col-md-6 col-lg-4">
                          <div class="card" style="width: 18rem;">
                            <div class="card-body">
                              <h5 class="card-title placeholder-glow"><span class="placeholder" style="width: 25%;"></span></h5>
                              <h6 class="card-subtitle mb-2 text-muted placeholder-glow"><span class="placeholder" style="width: 35%;"></span></h6>
                              <p class="card-text placeholder-glow">
                                <span class="placeholder" style="width: 100%;"></span>
                                <span class="placeholder" style="width: 100%;"></span>
                                <span class="placeholder" style="width: 90%;"></span>
                              </p>
                              <div class="links placeholder-glow">
                              <a href="#" class="card-link"><span class="placeholder" style="width: 30%;"></span></a>
                            </div>
                            </div>
                          </div>
                          </div>


                  <!-- <div class="row"> -->
                    <div class="col-12 col-md-6 col-lg-4">
                      <div class="card" style="width: 18rem;">
                        <div class="card-body">
                          <h5 class="card-title placeholder-glow"><span class="placeholder" style="width: 25%;"></span></h5>
                          <h6 class="card-subtitle mb-2 text-muted placeholder-glow"><span class="placeholder" style="width: 35%;"></span></h6>
                          <p class="card-text placeholder-glow">
                            <span class="placeholder" style="width: 100%;"></span>
                            <span class="placeholder" style="width: 100%;"></span>
                            <span class="placeholder" style="width: 90%;"></span>
                          </p>
                          <div class="links placeholder-glow">
                          <a href="#" class="card-link"><span class="placeholder" style="width: 30%;"></span></a>
                        </div>
                        </div>
                      </div>
                      </div>

                      <div class="col-12 col-md-6 col-lg-4">
                        <div class="card" style="width: 18rem;">
                          <div class="card-body">
                            <h5 class="card-title placeholder-glow"><span class="placeholder" style="width: 25%;"></span></h5>
                            <h6 class="card-subtitle mb-2 text-muted placeholder-glow"><span class="placeholder" style="width: 35%;"></span></h6>
                            <p class="card-text placeholder-glow">
                              <span class="placeholder" style="width: 100%;"></span>
                              <span class="placeholder" style="width: 100%;"></span>
                              <span class="placeholder" style="width: 90%;"></span>
                            </p>
                            <div class="links placeholder-glow">
                            <a href="#" class="card-link"><span class="placeholder" style="width: 30%;"></span></a>
                          </div>
                          </div>
                        </div>
                        </div>
                    <div class="col-12 col-md-6 col-lg-4">
                      <div class="card" style="width: 18rem;">
                        <div class="card-body">
                          <h5 class="card-title">Card title</h5>
                          <h6 class="card-subtitle mb-2 text-muted">Card subtitle</h6>
                          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
                          <div class="links placeholder-glow">
                          <a href="#" class="card-link">Card link</a>
                        </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  </div>
              </main>
              <footer>
                &#169; all the rights reserved to absolutely nobody
              </footer>
        <script>
          async function fetchRepos(url){
            let data = [];
            try{
            const res = await fetch(url);
            data = await res.json();
          } catch{
            throw new Error('Failed to fetch data');
          }
            return data;
          }

          async function handleCards(){
            let repos = [];
            try{
            repos = await fetchRepos('https://api.github.com/users/lucasrn9/repos?per_page=6');
            } catch{
              window.alert('There was an error in fetching projects data, this page is currently not working')
            }
            const cards = document.querySelectorAll('.card');
            cards.forEach((card,index)=>{

              const repo = repos[index]
              const cardTitleElement = card.querySelector(".card-title")
              const cardSubtitleElement = card.querySelector(".card-subtitle")
              const cardTextElement = card.querySelector(".card-text")
              const cardLinksElement = card.querySelector(".links")

              cardTitleElement.classList.remove('placeholder-glow')
              cardSubtitleElement.classList.remove('placeholder-glow')
              cardTextElement.classList.remove('placeholder-glow')
              cardLinksElement.classList.remove('placeholder-glow')


              const genericDescription = "Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed do eiusmod tempor incididunt ut labore et dolore magna aliqua."

              cardTitleElement.innerHTML = repo.name
              cardSubtitleElement.innerHTML = repo.full_name
              cardTextElement.innerHTML = repo.description ? repo.description : genericDescription;
              cardLinksElement.innerHTML =  `<a href="${repo.html_url}" class="card-link">link</a>`
            })
          }
          handleCards()
        </script>
    </body>
</html>
